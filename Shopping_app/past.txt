//Webscrapper for static webpages

import org.apache.hc.client5.http.impl.classic.CloseableHttpResponse; // Correct import
import org.apache.hc.client5.http.classic.methods.HttpGet;
import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;
import org.apache.hc.client5.http.impl.classic.HttpClients;
import org.apache.hc.core5.http.HttpEntity;
import org.apache.hc.core5.http.io.entity.EntityUtils;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

import java.io.IOException;
import java.text.ParseException;

public class Data {

    public static void main(String args[]) {
        String url[] = { "https://www.carrefour.ke/mafken/en/" }; // Replace with the product URL
        int number = 0;
        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {
            HttpGet request = new HttpGet(url[number]);
            try (CloseableHttpResponse response = httpClient.execute(request)) {
                HttpEntity entity = response.getEntity();
                if (entity != null) {
                    try {
                        String html = EntityUtils.toString(entity);

                        Document doc = Jsoup.parse(html);
                        /*
                         * Elements productNames = doc.select("a[href]"); // Replace with the correct
                         * selector
                         * for (Element productName : productNames) {
                         * System.out.println(productName.text());
                         * }
                         */

                        Elements prices = doc.select("a[href]");
                        if (prices.isEmpty()) {
                            System.out.println(prices.isEmpty());
                        } else {
                            System.out.println(prices.size());
                        }

                        for (Element price : prices) {
                            System.out.println(price.attr("href"));
                        }

                    } catch (org.apache.hc.core5.http.ParseException e) {
                        e.printStackTrace();
                    }

                }

            }
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
}